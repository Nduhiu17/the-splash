(this["webpackJsonpthe-splash"]=this["webpackJsonpthe-splash"]||[]).push([[0],{28:function(e,t,n){e.exports=n(45)},33:function(e,t,n){},34:function(e,t,n){},4:function(e,t,n){"use strict";n.r(t),n.d(t,"IMAGES",(function(){return r})),n.d(t,"STATS",(function(){return a}));var r={LOAD:"IMAGE_LOAD",LOAD_SUCCESS:"IMAGES_LOAD_SUCCESS",LOAD_FAIL:"IMAGES_LOAD_FAIL"},a={LOAD:"STATS_LOAD",LOAD_SUCCESS:"STATS_LOAD_SUCCESS",LOAD_FAIL:"STATS_LOAD_FAIL"}},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(12),s=n.n(c),o=(n(33),n(14)),u=n(15),i=n(18),l=n(17),d=(n(34),n(16)),S=n(4),f=function(e){return{type:S.IMAGES.LOAD_SUCCESS,images:e}},O=function(e){return{type:S.STATS.LOAD,id:e}},p=function(e,t){return{type:S.STATS.LOAD_SUCCESS,id:e,downloads:t}},A=function(e){return{type:S.STATS.LOAD_FAIL,id:e}},b=n(27),E=(n(41),function(e){var t=e.children,n=e.loading,r=Object(b.a)(e,["children","loading"]);return a.a.createElement("button",Object.assign({className:"button",disabled:n},r),n?"Loading...":t)});E.defaultProps={loading:!1};var m=E,L=(n(42),function(e){var t=e.stats;return t?a.a.createElement("span",{className:"stats"},t.error&&"Error!!!",t.isLoading&&"Loading...!!!",null!==t.downloads&&"Stats: ".concat(t.downloads)):a.a.createElement("span",{className:"stats"},"Loading...")}),g=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.loadImages()}},{key:"render",value:function(){var e=this.props,t=e.images,n=e.error,r=e.isLoading,c=e.loadImages,s=e.imageStats;return a.a.createElement("div",{className:"content"},a.a.createElement("section",{className:"grid"},t.map((function(e){return a.a.createElement("div",{key:e.id,className:"item item-".concat(Math.ceil(e.height/e.width))},a.a.createElement(L,{stats:s[e.id]}),a.a.createElement("img",{src:e.urls.small,alt:e.user.username}))}))),n&&a.a.createElement("div",{className:"error"},JSON.stringify(n)),a.a.createElement(m,{onClick:function(){return!r&&c()},loading:r},"Load More"))}}]),n}(r.Component),h=Object(d.b)((function(e){return{isLoading:e.isLoading,images:e.images,error:e.error,imageStats:e.imageStats}}),(function(e){return{loadImages:function(){return e({type:S.IMAGES.LOAD})}}}))(g),v=(n(43),function(){return a.a.createElement("header",null,"REDUX SAGA WITH UNSPLASH API")}),j=n(8),_=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.IMAGES.LOAD:return!0;case S.IMAGES.LOAD_SUCCESS:case S.IMAGES.LOAD_FAIL:return!1;default:return e}},w=n(23),D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===S.IMAGES.LOAD_SUCCESS?[].concat(Object(w.a)(e),Object(w.a)(t.images)):e},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.IMAGES.LOAD_FAIL:return t.error;case S.IMAGES.LOAD:case S.IMAGES.LOAD_SUCCESS:return null;default:return e}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.IMAGES.LOAD_SUCCESS:return e+1;default:return e}},C=n(11),T=n(10),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.STATS.LOAD:return Object(T.a)(Object(T.a)({},e),{},Object(C.a)({},t.id,{isLoading:!0,downloads:null,error:!1}));case S.STATS.LOAD_SUCCESS:return Object(T.a)(Object(T.a)({},e),{},Object(C.a)({},t.id,{isLoading:!1,downloads:t.downloads,error:!1}));case S.STATS.LOAD_FAIL:return Object(T.a)(Object(T.a)({},e),{},Object(C.a)({},t.id,{isLoading:!1,downloads:null,error:!0}));default:return e}},y=Object(j.c)({isLoading:_,images:D,error:x,nextPage:I,imageStats:k}),M=n(26),G=n(5),U=n.n(G),N=n(7),F=n(22),P="?client_id=5f96323678d05ff0c4eb264ef184556868e303b32a2db88ecbf15746e6f25e02",X="https://api.unsplash.com/photos/",J=function(){var e=Object(F.a)(U.a.mark((function e(t){var n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(X).concat(P,"&per_page=3&page=").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:if(r=e.sent,!(n.status>400)){e.next=8;break}throw new Error(r.error);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(F.a)(U.a.mark((function e(t){var n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(X,"/").concat(t,"/statistics").concat(P));case 2:return n=e.sent,e.next=5,n.json();case 5:if(r=e.sent,!(n.status>=400)){e.next=8;break}throw new Error(r.errors);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=U.a.mark(W),V=U.a.mark(q),B=function(e){return e.nextPage};function W(){var e,t;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(N.e)(B);case 3:return e=n.sent,n.next=6,Object(N.b)(J,e);case 6:return t=n.sent,n.next=9,Object(N.d)(f(t));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(N.d)((r=n.t0.toString(),{type:S.IMAGES.LOAD_FAIL,error:r}));case 15:case"end":return n.stop()}var r}),H,null,[[0,11]])}function q(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.g)(S.IMAGES.LOAD,W);case 2:case"end":return e.stop()}}),V)}var z=U.a.mark(Y),K=U.a.mark(Z),Q=n(4).IMAGES;function Y(e){var t,n;return U.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=0;case 1:if(!(t<3)){r.next=18;break}return r.prev=2,r.next=5,Object(N.d)(O(e));case 5:return r.next=7,Object(N.b)(R,e);case 7:return n=r.sent,r.next=10,Object(N.d)(p(e,n.downloads.total));case 10:return r.abrupt("return",!0);case 13:r.prev=13,r.t0=r.catch(2);case 15:t++,r.next=1;break;case 18:return r.next=20,A(e);case 20:case"end":return r.stop()}}),z,null,[[2,13]])}function Z(){var e,t,n;return U.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(N.f)(Q.LOAD_SUCCESS);case 3:e=r.sent,t=e.images,n=0;case 6:if(!(n<t.length)){r.next=12;break}return r.next=9,Object(N.c)(Y,t[n].id);case 9:n++,r.next=6;break;case 12:r.next=0;break;case 14:case"end":return r.stop()}}),K)}var $=U.a.mark(ee);function ee(e){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([q(),Z()]);case 2:case"end":return e.stop()}}),$)}var te=function(){var e=Object(M.a)(),t=Object(j.e)(y,Object(j.d)(Object(j.a)(e),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));return e.run(ee),t}(),ne=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return a.a.createElement(d.a,{store:te},a.a.createElement(r.Fragment,null,a.a.createElement(v,null),a.a.createElement(h,null)))}}]),n}(r.Component);s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(ne,null)),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.10ef9d3e.chunk.js.map